# Diffing 算法

## 1.三大策略

React 用 三大策略 将 O(n^3)复杂度 转化为 O(n)复杂度

1. 策略一（tree diff）：
   Web UI 中 DOM 节点跨层级的移动操作特别少，可以忽略不计。

2. 策略二（component diff）：
   拥有相同类的两个组件 生成相似的树形结构，
   拥有不同类的两个组件 生成不同的树形结构。

3. 策略三（element diff）：
   对于同一层级的一组子节点，通过唯一 id 区分。

## 2.具体流程

1. 用 JavaScript 对象结构表示 DOM 树的结构;然后用这个树构建一个真正的 DOM 树， 插到文档当中;
2. 当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记 录两棵树差异;
3. 把 2 所记录的差异应用到步骤 1 所构建的真正的 DOM 树上，视图就更新了。
